<!DOCTYPE html>
<html>
<head>
  <title>Digital Notice Board</title>
  <style>
    body {
      font-family: Arial;
      background: #eef2f7;
      text-align: center;
      padding: 20px;
    }
    .card {
      background: white;
      padding: 20px;
      margin: 20px auto;
      width: 85%;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    button, select {
      padding: 8px 15px;
      margin: 5px;
      border-radius: 5px;
    }
    .done {
      text-decoration: line-through;
      color: green;
    }
  </style>
</head>
<body>

<h1>ğŸ“¢ Digital Notice Board</h1>

<!-- Role selection -->
<div id="roleSelect" class="card">
  <h2>Select Role</h2>
  <button onclick="setRole('student')">Student</button>
  <button onclick="setRole('advisor')">Advisor</button>
</div>

<!-- Student View -->
<div id="studentView" class="card" style="display:none;">
  <h2>ğŸ¤ Todayâ€™s Snap Talk</h2>
  <p><b>Speaker:</b> <span id="showStudent"></span></p>
  <p><b>Topic:</b> <span id="showTopic"></span></p>
</div>

<!-- Advisor View -->
<div id="advisorView" class="card" style="display:none;">
  <h2>ğŸ‘¨â€ğŸ« Advisor Panel</h2>

  <h3>ğŸ¤ Student Snap Talk</h3>
  <ul id="studentList"></ul>

  <h3>ğŸ“… Events & Exams</h3>
  <ul id="eventList"></ul>
</div>

<script>
  const students = ["Arun", "Bala", "Divya", "Karthik", "Meena"];
  const topics = [
    "Importance of Discipline",
    "Effects of Social Media",
    "My Dream Career",
    "Value of Time",
    "Role of Education"
  ];

  const events = [
    "Unit Test â€“ Feb 10",
    "Model Exam â€“ Mar 5",
    "Tech Symposium â€“ Mar 12",
    "Cultural Fest â€“ Mar 20"
  ];

  function setRole(role) {
    document.getElementById("roleSelect").style.display = "none";

    if (role === "student") {
      document.getElementById("studentView").style.display = "block";
      loadStudentView();
    } else {
      document.getElementById("advisorView").style.display = "block";
      loadAdvisorView();
    }
  }

  function loadStudentView() {
    document.getElementById("showStudent").innerText =
      localStorage.getItem("currentStudent") || "Not selected";

    document.getElementById("showTopic").innerText =
      localStorage.getItem("currentTopic") || "Not selected";
  }

  function loadAdvisorView() {
    loadStudents();
    loadEvents();
  }

  function loadStudents() {
    const ul = document.getElementById("studentList");
    ul.innerHTML = "";

    students.forEach((name, index) => {

      let status = localStorage.getItem("student_" + index);
      if (status === "done") {
        return; // hide completed students
      }

      const li = document.createElement("li");

      const select = document.createElement("select");
      topics.forEach(t => {
        const opt = document.createElement("option");
        opt.value = t;
        opt.text = t;
        select.appendChild(opt);
      });

      const savedTopic = localStorage.getItem("topic_" + index);
      if (savedTopic) select.value = savedTopic;

      select.onchange = function () {
        localStorage.setItem("topic_" + index, this.value);
        localStorage.setItem("currentStudent", name);
        localStorage.setItem("currentTopic", this.value);
      };

      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";

      checkbox.onchange = function () {
        if (this.checked) {
          localStorage.setItem("student_" + index, "done");
          loadStudents();
        }
      };

      li.append(name + " ");
      li.append(select);
      li.append(" Completed ");
      li.append(checkbox);
      ul.appendChild(li);
    });
  }

  function loadEvents() {
    const ul = document.getElementById("eventList");
    ul.innerHTML = "";

    events.forEach((event, index) => {
      const li = document.createElement("li");
      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";

      let status = localStorage.getItem("event_" + index);
      if (status === "done") {
        checkbox.checked = true;
        li.classList.add("done");
      }

      checkbox.onchange = function () {
        if (this.checked) {
          localStorage.setItem("event_" + index, "done");
          li.classList.add("done");
        } else {
          localStorage.removeItem("event_" + index);
          li.classList.remove("done");
        }
      };

      li.append(event + " Completed ");
      li.append(checkbox);
      ul.appendChild(li);
    });
  }
</script>

</body>
</html>
